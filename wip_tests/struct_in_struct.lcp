# String Stuct
struct String
	i64 size
	^i8 name
end
fun String.init(i64 ^i8 String)
	set String str
	@str.data
	@str.size
end
fun String.print(String)
	set String str
	@str.size @str.data 1 1 call3 pop
end

# Student Struct
struct Student
	String name
	String school
end

# TestScore Struct
struct TestScore
	Student student
	i64 score 
end
fun TestScore.init(i64 ^i8 i64 ^i8 i64 TestScore)
	set TestScore score
	&score.score # set score
	@score.student.school String.init # set school name
	@score.student.name String.init # set student name
end

fun print_student_score(TestScore)
	set TestScore score
	String text

	@score.student.name String.print
	" from " text String.init text String.print
	@score.student.school String.print
	" scored a(n) " text String.init text String.print
	@score.score dump
end

fun main()
	TestScore student_1_score
	"Ben Dover" "Example School" 87 student_1_score TestScore.init
	student_1_score print_student_score
end
